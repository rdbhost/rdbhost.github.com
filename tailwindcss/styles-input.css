@tailwind components;
@tailwind utilities;

/* Table container styles */
.table-container {
  @apply w-[90%] mx-auto overflow-x-auto mt-5;
  scrollbar-width: auto;
  scrollbar-color: #4a5568 #e2e8f0;
}

/* Webkit scrollbar styles */
.table-container::-webkit-scrollbar {
  height: 16px;
}

.table-container::-webkit-scrollbar-track {
  @apply bg-gray-200 rounded-full;
}

.table-container::-webkit-scrollbar-thumb {
  @apply bg-gray-500 rounded-full;
  border: 3px solid #e2e8f0;
}

.table-container::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-600;
}

/* Table styles */
table {
  @apply w-full bg-white shadow-lg;
  border-collapse: separate;
  border-spacing: 0;
  min-width: 100%;
}

/* Table header styles */
thead {
  @apply bg-purple-50 text-gray-800 uppercase text-sm font-semibold sticky top-0 z-10;
}

th {
  @apply px-4 py-2 text-center border-b border-gray-300 whitespace-nowrap;
}

/* Result header styles */
th.result {
  @apply relative pr-10 min-w-[100px] rounded-tl-2xl rounded-tr-2xl;
}

/* 删除按钮样式 */
.close-res {
  @apply absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 flex items-center justify-center bg-gray-300 text-gray-700 rounded-full text-xs font-bold cursor-pointer transition-colors duration-200;
}

.close-res:hover {
  @apply bg-red-500 text-white;
}

.close-res::after {
  content: "×";
}

/* Table body styles */
tbody tr {
  @apply hover:bg-gray-50 transition-colors duration-150;
}

td {
  @apply px-4 py-2 text-center border-t border-gray-200;
  white-space: nowrap;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 错误单元格样式 */
td.result.output.error {
  @apply bg-red-500 text-white relative;
  z-index: 1;
}

td.result.output.error::after {
  content: attr(title);
  @apply absolute left-0 top-full bg-red-500 text-white p-2 rounded shadow-lg;
  white-space: nowrap;
  z-index: 10;
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 确保错误单元格后面的单元格样式正常 */
td.result:not(.error) {
  @apply bg-white;
}

/* 可编辑单元格样式 */
td[contenteditable="true"] {
  @apply relative transition-all duration-200 ease-in-out;
}

td[contenteditable="true"]:hover {
  @apply shadow-lg;
  z-index: 2;
  transform: scale(1.05);
}

td[contenteditable="true"]:hover::before {
  content: "";
  @apply absolute inset-0 border-2 border-black pointer-events-none;
  z-index: 3;
}

td.handle, th.min, td.unit {
  @apply bg-gray-100 text-gray-600 font-bold rounded-md w-16;
}

/* 新增：可编辑的 unit 单元格样式 */
td.unit[contenteditable="true"] {
  @apply bg-white text-gray-800 cursor-text;
}

td.unit[contenteditable="true"]:hover {
  @apply shadow-lg;
  z-index: 2;
  transform: scale(1.05);
}

td.handle::before {
  content: "≡";
  @apply text-xl;
}

/* 行删除按钮样式 */
td.delete {
  @apply bg-gray-100 text-gray-500 font-bold rounded-md transition-colors duration-200 cursor-pointer;
}

td.delete:hover {
  @apply bg-red-500 text-white;
}

td.delete::after {
  content: "×";
  @apply text-xl;
}

td.alt-add {
  @apply bg-blue-50 text-blue-600 cursor-pointer;
}

td.readonly {
  @apply bg-gray-100 text-gray-700;
}

td.output:not(.error), td.valid-result {
  @apply bg-green-50 text-green-600 font-semibold;
}